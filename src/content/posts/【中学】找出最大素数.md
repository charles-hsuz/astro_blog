---
title: 【中学】找出最大素数
tags: 乐学
categories: 刷题笔记
slug: 9bb1d67d
date: 2022-12-24 02:15:33
---
# 【中学】找出最大素数

小明在中学学习了什么是素数。素数是指一个只能被1和它本身整除的数，在数论中占有重要的研究地位，在当代密码学中也被广泛应用。

### 输入：
取值范围
### 输出：
该范围内的最大素数
## 样例：
序号|测试输入| 期待的输出| 额外进程
--------|-------- | -----|--------
1  | `100↵`|`The max prime number is 97.↵`|0

### 思路
既然是要寻找最大素数骂我们不放从最大值开始倒序以此判断
### 代码

```c
#include<stdio.h>
main()
{
	int n,i,a=1;
	scanf("%d",&n);
	for(;n>0;n--)
	{  
 		for(i=2;i<n;i++)
    	{
     		if(n%i==0)
     			break;
    		if(i==n-1)
         	{
			 	printf("最大素数是%d.\n",n);
          		a=0;
          		break;
			}
    	}
    if(a==0) break;
	}
}
```
## 课外思考
还没有更“简单”的方式呢？从什么角度可以化简呢？
事实上我们可以从数学角度化简数学模型(埃氏筛)：
>要得到自然数n以内的全部素数，必须把不大于根号n的所有素数的倍数剔除，剩下的就是素数。
>同时在判断素数时，我们不需要尝试比N小的所有数，只要尝试比$\sqrt{N}$小的所有奇数就可以了

这两个结论的证明很简单，同学们可以自己尝试
我们这里考虑到输入的N并不大，为了简化代码，只考虑6的倍数，也即`大于五的素数必然分布在六的倍数两侧`


### 代码
{% hideBlock 查看 %}
```c
#include <stdio.h> 
#include<math.h>   
int main()  
{
	int n,i,a=1;  
	scanf("%d",&n);  
 	for(;n>0;n--)
 	{
 		if(n==2||n==3||n==5)
 		printf("%d",n);
 		else if(n%6==1||n%6==5)
 		{
			for(i=3;i<n;i+=2)  
     		{ 
				if(n%2==0||n%i==0) break;
       			if(i>=(int)sqrt(n))  
         		{  
         			printf("The max prime number is %d.\n",n);  
         			a=0;  
        			break;  
        		} 
   			}  
    		if(a==0) break;
		}
 		if(a==0) break;
 	}
}  
```
{% endhideBlock %}

虽然代码看似更长更复杂了，但是面对**更大的N**时所用时间**显著缩短**
（*以我的运行环境为例：N=$10^{9}$ 时，普通方法 time=7.985s，改进后 time=0.618s*）  
- - -
>除此以外还有“朴素筛”，“欧拉筛”等许多不同算法，感兴趣的同学可以尝试学习
