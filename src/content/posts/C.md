---
title: 【日期】根据日期求星期
slug: 3dd7ffa7
date: 2022-12-24 02:00:37
tags: 乐学
categories: 刷题笔记
---
# 【日期】根据日期求星期

任意给出一个年月日，求出是星期几。

### 输入：
年 月 日（ 假设年份大于1900。）
### 输出：
0～6。（ 星期日用 0 表示，星期一用 1 表示，星期二用 2 表示......星期六用 6 表示。）
## 样例：
序号|测试输入| 期待的输出| 额外进程
--------|-------- | -----|--------
1  | `2013 3 11↵`|`1↵`|0
2|`2013 3 15↵`|`5↵`|0
3 | `2013 3 17↵`|`0↵`|0
### 数学建模：
**找到数学模型是解决本题的关键。**
*（使用蔡勒公式当然是可以的，但这里主要介绍如何从零开始推导出我们所需要的模型）*
首先，自然地，我们可以观察到星期的周期性，即七天为一个周期。
那我们不妨从计算公元元年一月一日至今的天数（不从1900年开始是为了让程序更具普适性，但实际上原理是一样的），然后用天数对7取模，所得值刚好就是我们的期待输出（ 星期日用 0 表示，星期一用 1 表示，星期二用 2 表示......星期六用 6 表示）。
>    假设当前年份为y,并忽略闰年,则从公元元年一月一日到y-1年共有365*(y-1)天,加上闰年多出来的天数,即每四年多一天，每四百年少三天——1*((y-1)/4-(y-1)/100+(y-1)/400),得：365*(y-1)+((y-1)/4-(y-1)/100+(y-1)/400).
>    我们再补上从当前1月1日开始到当前天的天数d,即为所求.即：365*(y-1)+((y-1)/4-(y-1)/100+(y-1)/400)+d.

接下来，我们的问题就变成了如何求d：
>首先判断当前年份是否为闰年——if(y%4\==0&&y%100!=0||y%400==0)  ——然后改变二月的天数，接着，我们只需要依次加上每个月（不包括当前月）的天数以及当前月的日期即可，这可以简单地通过数组和循环解决

最后，我们不要忘记思考如何优化模型，因为最后一步是对7取模，而我们观察到 365%7=1，即 365*(y-1)%7=（y-1)%7 。
### 流程图：
![在这里插入图片描述](https://picbed-1304952903.cos.ap-beijing.myqcloud.com/pic/%E6%97%A5%E6%9C%9F%E6%B1%82%E6%98%9F%E6%9C%9F.drawio.png)



### 代码
{% hideBlock 查看 %}
```c
#include "stdio.h"  
int a[13]={0,31,28,31,30,31,30,31,31,30,31,30,31};  
int main()
{  
    int y,m,d;  
    scanf("%d %d %d",&y,&m,&d);  
    if(y%4==0&&y%100!=0||y%400==0)  
    a[2]=29;  
    int ans=d,i;  
    for(i=1;i<=m-1;i++)
    {  
        ans+=a[i];  
    }  
    int s,r;  
    s=y-1+(y-1)/4-(y-1)/100+(y-1)/400+ans;  
    r=s%7;  
    printf("%d\n",r);
    return 0;  
}  
```
{% endhideBlock %}
## 课外思考
输出0~6太不符合正常人类的思维了，能不能输出文本？

显然，我们可以通过数组实现，但是需要注意**字符串数组与字符数组的区别**。

### 代码
{% hideBlock 查看 %}

```c
#include "stdio.h"  
char w[7][5]={"Sun","Mon","Tue","Wed","Thur","Fri","Sat"};  
int a[13]={0,31,28,31,30,31,30,31,31,30,31,30,31};  
int main(){  
    int y,m,d;  
    scanf("%d %d %d",&y,&m,&d);  
    if(y%4==0&&y%100!=0||y%400==0)  
    a[2]=29;  
    int ans=d,i;  
    for(i=1;i<=m-1;i++){  
        ans+=a[i];  
    }  
    int s,r;  
    s=y-1+(y-1)/4-(y-1)/100+(y-1)/400+ans;  
    r=s%7; 
    printf("%s\n",w[i]);  
    return 0;  
}  
```
{% endhideBlock %}
