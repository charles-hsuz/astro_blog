---
import { configs } from "@s/config"
import { getCollection, CollectionEntry } from "astro:content"
import Default from "@lay/Default.astro"

const baseUrl = '/posts/'

export async function getStaticPaths() {
  const res = (await getCollection("posts", ({ data }) => data.draft !== true)).map((entry) => ({
    params: { title: entry.slug },
    props: { entry },
  }));
  return res
}
interface Props {
  entry: CollectionEntry<"posts">;
}
const { entry } = Astro.props
const { title } = Astro.params
const {Content, headings} = await entry.render()

---

<Default>
  <div class="article">
    <Content /> 
  </div>
</Default>